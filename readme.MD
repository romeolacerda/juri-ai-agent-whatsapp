# ğŸ›ï¸ Sistema JurÃ­dico com IA

Sistema de gestÃ£o jurÃ­dica integrado com inteligÃªncia artificial para anÃ¡lise de documentos, consulta de processos e assistÃªncia virtual.

## ğŸ› ï¸ Tecnologias

- **Backend:** Django 6.0
- **IA/ML:** Agno, LanceDB, OpenAI/Anthropic
- **OCR:** Docling
- **Async Tasks:** Django Q2
- **Frontend:** TailwindCSS, Alpine.js

## ğŸ“‹ PrÃ©-requisitos

- Python 3.10+
- pip
- Git

## ğŸš€ InstalaÃ§Ã£o

### 1. Clone o repositÃ³rio
```bash
git clone https://github.com/romeolacerda/juri-ai-agent-whatsapp.git
cd juri-ai-agent-whatsapp
```

### 2. Configure as variÃ¡veis de ambiente
```bash
cp .env.example .env
```

Edite o arquivo `.env` e adicione suas chaves de API:
```env
OPENAI_API_KEY=sua-chave-openai
```

### 3. Crie e ative o ambiente virtual

**Linux/macOS:**
```bash
python3 -m venv venv
source venv/bin/activate
```

**Windows:**
```bash
python -m venv venv
venv\Scripts\activate
```

### 4. Instale as dependÃªncias
```bash
pip install -r requirements.txt
```

### 5. Execute as migraÃ§Ãµes
```bash
python manage.py migrate
```

### 6. Crie um superusuÃ¡rio (admin)
```bash
python manage.py createsuperuser
```

### 7. Inicie os serviÃ§os

**Terminal 1 - Servidor Django:**
```bash
python manage.py runserver
```

**Terminal 2 - Django Q Cluster (processamento assÃ­ncrono):**
```bash
python manage.py qcluster
```

### 8. Acesse o sistema

- **Interface Web:** http://localhost:8000
- **Admin Django:** http://localhost:8000/admin

## ğŸ“ Estrutura do Projeto
```
â”œâ”€â”€ usuarios/          # App de autenticaÃ§Ã£o e gestÃ£o de clientes
â”‚   â”œâ”€â”€ models.py     # Cliente, Documentos
â”‚   â”œâ”€â”€ views.py      # Views de cadastro, login, clientes
â”‚   â””â”€â”€ signals.py    # Processamento assÃ­ncrono de documentos
â”œâ”€â”€ ia/               # App de inteligÃªncia artificial
â”‚   â”œâ”€â”€ agent.py      # Agente JuriAI com RAG
â”‚   â”œâ”€â”€ tasks.py      # Tasks de OCR e embeddings
â”œâ”€â”€ templates/        # Templates HTML
â”œâ”€â”€ static/          # Arquivos estÃ¡ticos (CSS, JS)
â”œâ”€â”€ media/           # Uploads de usuÃ¡rios
â”œâ”€â”€ lancedb/         # Banco vetorial (nÃ£o versionado)
â””â”€â”€ manage.py
```

### Usando OpenAI (GPT-4)
```env
OPENAI_API_KEY=sk-...
```
## ğŸ“š Como Usar

### 1. Cadastrar Cliente

- Acesse "Clientes" â†’ "Novo Cliente"
- Preencha nome, email, tipo (PF/PJ) e status

### 2. Upload de Documentos

- Entre no perfil do cliente
- FaÃ§a upload do documento (PDF, DOCX, etc.)
- O sistema automaticamente:
  - Extrai o texto via OCR
  - Indexa no banco vetorial
  - Disponibiliza para consulta via IA

### 3. Consultar Processos (DataJud)

Via chat com a IA, pergunte:
```
"Busque o processo 00008323520184013202 no TJSP"
```

### 4. Chat com Documentos

A IA tem acesso aos documentos do cliente:
```
"Resuma o contrato social da empresa X"
"Quais sÃ£o as clÃ¡usulas de rescisÃ£o no documento Y?"
```

## ğŸ§ª Desenvolvimento

### Executar testes
```bash
python manage.py test
```

### Criar novas migraÃ§Ãµes
```bash
python manage.py makemigrations
python manage.py migrate
```

### Acessar shell do Django
```bash
python manage.py shell
```

## ğŸ› Troubleshooting

### Erro: `OPENAI_API_KEY not set`
- Verifique se o arquivo `.env` existe e tem a chave configurada
- Reinicie o servidor apÃ³s editar o `.env`

### Django Q nÃ£o processa tarefas
- Certifique-se de que o `qcluster` estÃ¡ rodando
- Verifique logs com `python manage.py qcluster --verbose`

### Erro de banco de dados
```bash
python manage.py migrate --run-syncdb
```